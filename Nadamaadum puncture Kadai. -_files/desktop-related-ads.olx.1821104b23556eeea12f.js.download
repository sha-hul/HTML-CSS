(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[94],{1010:function(e,t,a){"use strict";var i=a(64),s=a.n(i),n=a(2),r=a.n(n),o=(a(65),a(6),a(33),a(59),a(0)),c=a.n(o),l=a(72),d=a.n(l),m=a(3),u=a(95);t.a=(e,t)=>a=>{class i extends c.a.PureComponent{constructor(a){super(a),r()(this,"containsOverlayHash",e=>this.props.location.hash.includes(e)),r()(this,"getLocationUrl",()=>{const e=Object.assign({},this.props.location.query);return this.props.location.pathname+"?"+Object(m.k)(e)+this.props.location.hash}),r()(this,"openModal",()=>{const e=this.getLocationUrl();let t=""+e;e.includes(this.overlayHash)||(t=""+e+this.overlayHash),this.props.router.push(t)}),r()(this,"openOverlay",()=>{const a=this.getLocationUrl();t&&!a.includes(e)?a.includes(t)?this.props.router.push(a+"-"+this.overlayHash):this.props.router.push(""+a+t+"-"+this.overlayHash):t||this.openModal()}),r()(this,"closeModal",()=>{let t=this.getLocationUrl();this.containsOverlayHash(e)&&(t=t.split("#")[0],this.props.router.replace(t))}),this.overlayHash=e}componentDidMount(){this.containsOverlayHash(this.overlayHash)&&this.openOverlay()}render(){const t=this.containsOverlayHash(e);return c.a.createElement(a,s()({},this.props,{openModal:this.openModal,openOverlay:this.openOverlay,closeModal:this.closeModal,containsOverlayHash:this.containsOverlayHash,isOpened:t}))}}const n=Object(u.f)(i);return n.displayName="withBackButtonHandling("+(a.displayName||a.name)+")",d()(n,a)}},1026:function(e,t,a){"use strict";var i=a(2),s=a.n(i),n=(a(65),a(0)),r=a.n(n),o=a(1036),c=a.n(o),l=a(324),d=a(1038),m=a.n(d);const u=e=>{let t=null;return e.loaded||(t=r.a.createElement("div",{className:""+m.a.imagePlaceholder},r.a.createElement("div",{className:m.a.image+" "+m.a.animatedBackground}))),r.a.createElement(r.a.Fragment,null,t,e.children)};u.defaultProps={loaded:!1};var p=u,g=a(872);var h=a(58),f=a.n(h),_=a(60);const{icons:v}=l.a;class b extends r.a.PureComponent{constructor(e){super(e),s()(this,"handleImageLoaded",()=>{this.setState({imageStatus:!0})}),s()(this,"getSizes",()=>{const{visualizationType:e,listingType:t}=this.props;return"grid"===e?"(min-width: 1280px) 15vw, (min-width: 1024px) 20vw, (min-width: 960px) 25vw, (min-width: 540px) 25vw, (min-width: 320px) 30vw, 35vw":"list"===e?"(min-width: 1280px) 20vw, (min-width: 1024px) 20vw, (min-width: 960px) 25vw, (min-width: 540px) 25vw, (min-width: 320px) 25vw, 35vw":"reProjects"===t?null:"(min-width: 1280px) 100vw, (min-width: 1024px) 20vw, (min-width: 960px) 25vw, (min-width: 540px) 25vw, (min-width: 320px) 30vw, 35vw"}),s()(this,"itemImageComponent",(e,t,a,i)=>s=>{let{inView:n,ref:o}=s;return r.a.createElement("figure",{ref:o,className:f()(c.a.itemImage,c.a[a],t),"data-aut-id":i},r.a.createElement(p,{loaded:this.state.imageStatus},n||this.state.imageStatus?e:null),r.a.createElement("noscript",null,e))}),this.state={imageStatus:!1,src:""}}render(){const{image:e,defaultSize:t,friendsInCommon:a,alt:i,visualizationType:s,"data-aut-id":n,listingType:o}=this.props,l=e.url&&e.url.includes(".akamaized.net"),d=a?v["icon-Friends"]+" "+v.panameraIcons:"";let m,u,p;const h=this.getSizes();l?(u=e.url+";"+t,m=e.url+";s=100x200;q="+_.f+" 100w,\n                    "+e.url+";s=200x400;q="+_.f+" 200w,\n                    "+e.url+";s=300x600;q="+_.f+" 300w,\n                    "+e.url+";s=400x800;q="+_.f+" 400w,\n                    "+e.url+";s=600x1200;q="+_.f+" 600w"):u=e.url;const b=e.width>e.height;p="list"===s?b?c.a.listWidth:c.a.listHeight:b?c.a.width:c.a.height;const E=r.a.createElement("img",{src:u,alt:i,sizes:h,srcSet:m,className:f()(p,{[c.a.projectImage]:"reProjects"===o}),onLoad:this.handleImageLoaded});return r.a.createElement(g.a,{rootMargin:"600px"},this.itemImageComponent(E,d,s,n))}}s()(b,"defaultProps",{defaultSize:"s=300x0",friendsInCommon:!1,alt:"",listingType:"items","data-aut-id":"itemImage"});t.a=b},1036:function(e,t,a){e.exports={itemImage:"_2grx4",listHeight:"_1iGOp",listWidth:"_1ABkm",height:"_3Kg_w",width:"_1N079",projectImage:"_1vZ1k",myAds:"_3Km4V"}},1038:function(e,t,a){e.exports={imagePlaceholder:"_1czk1",image:"_1VzGN",animatedBackground:"_1VX6L",placeHolderShimmer:"_30iKX"}},1062:function(e,t,a){"use strict";a(6),a(206),a(205),a(871);var i=a(0),s=a.n(i),n=a(869),r=a(47),o=a(35),c=a(17),l=a(210),d=a(69),m=a(930),u=a(327),p=a(83);const g=e=>{let{item:t,isFavourite:a,addFavourite:r,removeFavourite:o,_setLoginModalState:l,track:d,trackOrigin:u,className:p}=e;const g=Object(i.useCallback)(()=>{const e=c.a.getUser();if(e){const i=Object.assign({origin:u,select_from:Object(m.d)(u)},Object(m.b)(t));a?(d("social_tap_unlike",i),o(e.id)):(d("social_tap_like",i),r(e.id))}else l({state:!0,redirectTo:"",trackProps:{origin:u},entryPoint:2,callback:g})},[t,a,r,o,l,d,u]);return s.a.createElement("span",{className:p},s.a.createElement(n.a,{name:"Favourite",icon:a?"favoriteOn":"favoriteOff",color:"blackText",animation:!1,onClick:g}))};g.defaultProps={trackOrigin:"",className:""},t.a=Object(o.compose)(p.a,Object(r.connect)((e,t)=>({isFavourite:Object(d.a)(e,t.item.id),trackOrigin:e.track.origin}),(e,t)=>{let{item:a}=t;return{addFavourite:t=>e(Object(l.a)(t,parseInt(a.id,10))),removeFavourite:t=>e(Object(l.i)(t,parseInt(a.id,10))),_setLoginModalState:t=>e(Object(u.a)(t))}}))(g)},1065:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return n})),a.d(t,"d",(function(){return r}));const i=1e3,s=12,n={DOB:"dob"},r="cf_lead_form"},1095:function(e,t,a){e.exports={bigItemCard:"_2VDJl",gridItemCard:"EIR5N",listItemCard:"_8HqL0",bottomCardInfo:"_1KOFM",date:"zLvFQ",blurry:"_3LlRU",resume:"IKo3_",price:"_89yzn",title:"_2tW1I",details:"_2TVI3",favorite:"_2awF2",new:"_1X63c",hot:"_3pSnB",sold:"_2ku78",outdated:"_3NtM8",rejected:"_2KosO",deleted:"W801C",modify:"_2PWYV",pending:"gfr3_",location:"tjgMj",favIcon:"_2LYp_",gridViewInspectedIcon:"_3XcQh",desktopFeedItemCard:"_3ZcW4",mobileFeedItemCard:"_3apgb",carInspectedImage:"j2681",status:"_2Vp0i",mainTitle:"_8WFAM",statistics:"_2k0a5",views:"_2qq2S",monetizer:"fhlkh",bigViewInspectedIcon:"_2-msB",favorites:"_2-ug5",listViewInspectedIcon:"_3DPAp"}},1098:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return r}));var i=a(1065);const s=(e,t,a)=>(a||[]).map(a=>{const s=t/i.c,n=Math.pow(1+s,a),r=e*s*n,o=n-1;return{repaymentPeriodCount:a,emi:Math.round(r/o)}}),n=(e,t,a)=>{if(e&&t&&a){const i=e*a;return Math.max(i,t)}return 0},r=(e,t,a)=>{if(e&&t&&a){const i=e*a;return Math.min(i,t)}return 0}},1114:function(e,t,a){"use strict";var i=a(2),s=a.n(i),n=a(0),r=a.n(n),o=a(35),c=a(47),l=a(95),d=a(872),m=a(3),u=a(1026),p=a(23),g=a(58),h=a.n(g),f=a(10),_=a(877),v=a(154),b=a(83),E=a(63),O=a(1062),w=a(1095),I=a.n(w),C=a(324),y=a(27),j=a(60),k=a(42),T=a(982),L=a(14),F=a(1010),S=a(209),A=a(50),N=a(179),x=a(20),M=a(99);const{icons:R}=C.a;class P extends r.a.PureComponent{constructor(e){let{item:t,config:a}=e;super(),s()(this,"isVisible",e=>{if(this.props.enabledRealImpressions&&e){const{item:e}=this.props,{id:t,title:a,user_id:i,monetizationInfo:s,spell:n,inspection_info:r}=e,o=!!(s&&!Object(f.c)(s.currentProduct)||e.package&&(e.package.id||e.package.name)),{id:c=0}=n||{},l={id:t,title:a,user_id:i,isFeatured:o,spell_id:c,isInspected:!!Object(v.f)(r)};this.props.onView(l)}}),s()(this,"onClick",()=>{this.props.onItemClick(this.props.item)}),s()(this,"handleTrustTagTap",e=>{e.stopPropagation();const{track:t,trackOrigin:a,source:i,openModal:s}=this.props;t(L.u,{origin:a,resultset_type:i,select_from:"listing_page"}),s()}),this.property={slug:t&&Object(m.e)(t.id,t.title),image:t&&t.images&&t.images[0]||{},price:t&&t.price&&t.price.value?t.price.value.display:"",display:t&&t.status&&t.status.display,monetizerEnabled:a.get("monetizer").enabled,date:Object(_.h)(t.display_date||t.created_at_first||t.created_at,void 0,{suppressHydrationWarning:!0})};const i=a.get("adpvAuto");this.carInspectedIconUri=i&&i.carInspectedIconUri,this.enableNewAdpvFromConfig=i&&i.enable,this.carCategory=i&&i.carCategory,this.siteCode=a.get("siteCode"),this.isLatamRegion="latam"===a.get("region"),this.showFavBtn=i&&i.showFavBtn,this.featuredTag=i&&i.featuredTag}getDefaultSize(){return{list:"s=272x0",grid:"s=272x0",big:"s=644x0"}[this.props.visualizationType]}renderStatus(e){const{type:t}=this.props;return"rejected"!==e&&"modify"!==e||"private"!==t?"deleted"===e&&"private"===t?{statusClass:I.a.deleted,status:r.a.createElement("label",null,r.a.createElement(p.FormattedMessage,{id:"deleted"}))}:"pending"===e&&"private"===t?{statusClass:I.a.pending,status:r.a.createElement("label",null,r.a.createElement(p.FormattedMessage,{id:"pending"}))}:"sold"===e?{statusClass:I.a.sold,status:r.a.createElement("label",null,r.a.createElement(p.FormattedMessage,{id:"sold"}))}:"outdated"===e&&"private"===t?{statusClass:I.a.outdated,status:r.a.createElement("label",null,r.a.createElement(p.FormattedMessage,{id:"outdated"}))}:"hot"===e?{statusClass:I.a.hot,status:r.a.createElement("label",{className:R["icon-Hot"]+" "+R.panameraIcons},r.a.createElement(p.FormattedMessage,{id:"hot"}))}:"new"===e?{statusClass:I.a.new,status:r.a.createElement("label",null,r.a.createElement(p.FormattedMessage,{id:"new"}))}:{}:{statusClass:I.a.rejected,status:r.a.createElement("label",null,r.a.createElement(p.FormattedMessage,{id:"rejected"}))}}getLinkToProp(){const{item:e,listingType:t,isAdSuggested:a,source:i,chosenOption:s="null",trackerOrigins:n,location:r}=this.props,{slug:o}=this.property,{feed_version:c=null}=this.props.extraTrackAttr,l={isAdSuggested:a,source:i};if(i===k.u.RELATED){const{id:t,scoreFactor:a="null"}=e;l.relatedAdTracking={impressions:[{adId:t,scoreFactor:a}],chosen_option:s,origin:n.ITEM_PAGE}}return l.featuredAdTracking={chosen_option:s},l.feed_version=c,r&&r.state&&r.state.fromBundleResultset&&(l.fromBundleResultset=r.state.fromBundleResultset),{pathname:t===T.d.RE_PORJECTS?Object(m.b)({base:"/project/"+e.id+"-"+Object(y.h)(e.name)+"-"+Object(y.h)(e.locations.cityLabel)}):o,state:l}}shouldShowInspectionTag(){const{item:{category_id:e,inspection_info:t}={},listingType:a,showInspectionTag:i,variant:s}=this.props,n="olxid"===this.siteCode,r=Object(v.f)(t)&&(!t.consent||t.consent===k.l.APPROVED);let o=this.enableNewAdpvFromConfig;return n?o=this.enableNewAdpvFromConfig&&i:this.isLatamRegion&&(o=this.enableNewAdpvFromConfig&&"b"===s),o&&e===this.carCategory&&a===T.d.ITEMS&&r}render(){const{item:e,friendsInCommon:t,showStatistics:a,listingType:i,visualizationType:s,getListingDescription:n,tag:o,itemCardType:c}=this.props,{title:m,favorites:g,views:_,main_info:b}=e,{image:E,price:w,display:C,date:y}=this.property,k=this.getDefaultSize(),L=Object(v.g)(e);let{statusClass:F,status:N}=this.renderStatus(C);const x=Object(v.d)(e);return this.featuredTag&&x&&(F=I.a.monetizer,N=r.a.createElement("label",null,r.a.createElement(p.FormattedMessage,{id:"listing_ad_featured_label"}))),r.a.createElement(d.a,{tag:o,"data-aut-id":"itemBox","data-aut-category-id":this.props.item.category_id,onChange:this.isVisible,className:h()(I.a[this.props.visualizationType+"ItemCard"],this.props.className)},r.a.createElement(l.b,{to:this.getLinkToProp(),className:F,onClick:this.onClick},E&&r.a.createElement(u.a,{image:E,friendsInCommon:t,defaultSize:k,alt:m,visualizationType:s,listingType:i}),n(e),i===T.d.ITEMS&&r.a.createElement("div",{className:I.a.resume},N&&r.a.createElement("div",{className:I.a.status},N),w&&r.a.createElement("span",{className:I.a.price,"data-aut-id":"itemPrice"},w),b&&r.a.createElement("span",{className:I.a.details,"data-aut-id":"itemDetails"},b),m&&r.a.createElement("span",{className:h()(I.a.title,{[I.a.mainTitle]:!w&&!b}),"data-aut-id":"itemTitle"},m),r.a.createElement("div",{className:I.a.bottomCardInfo},L&&r.a.createElement("span",{className:I.a.location,"data-aut-id":"item-location"},L),y&&r.a.createElement("span",{className:I.a.date},y)),a&&r.a.createElement("div",{className:I.a.statistics},!Object(f.c)(g)&&r.a.createElement("div",{className:I.a.favorites},r.a.createElement("i",{className:R.panameraIcons+" "+R["icon-FavoriteOn"]}),r.a.createElement("span",null,g.count)),null!==_&&r.a.createElement("div",{className:I.a.views},r.a.createElement("i",{className:R.panameraIcons+" "+R["icon-View"]}),r.a.createElement("span",null,_))))),this.showFavBtn&&i===T.d.ITEMS&&r.a.createElement(O.a,{item:e,className:I.a.favIcon}),this.shouldShowInspectionTag()&&r.a.createElement("div",{className:h()(I.a[this.props.visualizationType+"ViewInspectedIcon"],{[I.a[A.d+"FeedItemCard"]]:c===T.c.FEED}),onClick:this.handleTrustTagTap},this.carInspectedIconUri&&r.a.createElement(S.a,{fileName:this.carInspectedIconUri,fileSize:j.l,className:I.a.carInspectedImage,types:j.j})))}}s()(P,"defaultProps",{item:{},className:"",type:"public",onView:M.a,showStatistics:!1,friendsInCommon:!1,visualizationType:"grid",enabledRealImpressions:!1,listingType:T.d.ITEMS,onItemClick:M.a,getListingDescription:M.a,tag:"li",isAdSuggested:!1,chosenOption:null,trackerOrigins:{},itemCardType:"",track:M.a,trackOrigin:"",showInspectionTag:!1,extraTrackAttr:{},variant:"a"});t.a=Object(o.compose)(E.a,b.a,l.f,Object(F.a)(T.e),Object(N.withExperiment)(x.h),Object(c.connect)((e,t)=>({trackOrigin:e.track.origin,selectFrom:t.location.state&&t.location.state.source}),null))(P)},1181:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return l}));var i=a(1098),s=a(1);const n=(e,t)=>{let{maxLoanAmmount:a,maxLoanPercentage:s}=e;return t-Object(i.b)(t,a,s)},r=(e,t,a)=>{let{interestRate:s,installments:n}=e;const r=Object(i.a)(t-a,s,n);return r.length?r[r.length-1].emi:0},o=(e,t)=>{const a=n(e,t);return r(e,t,a)},c=Object(s.createSelector)(e=>e.financeConfig||{},(e,t)=>t.carValue,n),l=Object(s.createSelector)(e=>e.financeConfig,(e,t)=>t.carValue||0,c,r)},1220:function(e,t,a){e.exports={"rui-22qlo":"rui-22qlo","rui-OKqI7":"rui-OKqI7","rui-18xWg":"rui-18xWg","rui-mGo7n":"rui-mGo7n","rui-22cZ7":"rui-22cZ7","rui-2fY63":"rui-2fY63"}},1221:function(e,t,a){e.exports={"rui-32FMc":"rui-32FMc","rui-396LP":"rui-396LP","rui-2KEwS":"rui-2KEwS"}},1992:function(e,t,a){"use strict";a.r(t),a.d(t,"RelatedAds",(function(){return S}));var i=a(2),s=a.n(i),n=(a(6),a(1099),a(0)),r=a.n(n),o=a(47),c=a(35),l=a(1319),d=a.n(l),m=a(23),u=a(14),p=a(42),g=a(988),h=a(73),f=a(107),_=a(1114),v=a(341),b=a(63),E=a(1094),O=a(3478),w=a.n(O),I=(a(1220),a(206),a(205),a(1221),a(1209)),C=a(882);const y=e=>{let{children:t,direction:a}=e;return r.a.createElement(I.a,{arrow:"expanded",direction:a},t)};y.defaultProps={direction:"ltr"};var j=Object(C.b)(y),k=a(58),T=a.n(k);const{CAROUSEL_LISTING_RESULTS:L,CAROUSEL_VIEW_LISTING:F}=u.T;class S extends r.a.Component{constructor(e){var t;super(e),t=this,s()(this,"componentDidMount",()=>{const{recommendations:e}=this.props;e.length&&this.fireRelatedAdFetchEvent(e),this.getRecommendations()}),s()(this,"componentDidUpdate",e=>{const{recommendations:t}=this.props;t.length>0&&!d()(e.recommendations,this.props.recommendations)&&this.fireRelatedAdFetchEvent(t)}),s()(this,"componentWillUnmount",()=>{const{viewItems:e}=this.state,t=Object.keys(e).filter(t=>e[t]&&!1===e[t].isEventFired),a=t.map(t=>e[t].id);t.length>0&&this.fireViewAdsEvents(t,a)}),s()(this,"fireRelatedAdFetchEvent",e=>{const t=e.map(e=>{const{id:t,scoreFactor:a="null"}=e;return{adId:t,scoreFactor:a}});this.track(L,{result_count:e.length}),this.track(u.B,{impressions:t,resultset_type:p.z.RELATED,result_count:t.length})}),s()(this,"fireViewAdsEvents",(e,t)=>{const a={impressions:e,result_count:e.length,origin:v.a.ITEM_PAGE};this.track(F,a),this.track(u.lb,Object.assign({},a,{impressions:t,resultset_type:p.z.RELATED}))}),s()(this,"getRecommendations",()=>{const{item:e,loggedUser:t}=this.props,a=t&&t.id||"";this.props.getRecommendations(a,e.id,e.category_id)}),s()(this,"track",(function(e,a){void 0===a&&(a={});const{item:i,category:s,onTrack:n,recommendationMetaData:r,origin:o}=t.props,{feed_version:c="-",applied_filters:l=[]}=r,d={item_id:i.id,category_level2_id:s.id,category_level1_id:s.parent_id,resultset_type:u.f,feed_version:c,origin:o,filters:l};n(e,Object.assign({},d,a))})),s()(this,"onItemView",e=>{const{id:t,isFeatured:a,spell_id:i=0}=e;this.setState(e=>{const s=e.viewItems[t]&&e.viewItems[t].isEventFired||!1,n=Object.assign({},e.viewItems,{[t]:{id:(a?"T":"O")+i+":"+t,isEventFired:s}}),r=Object.keys(n).filter(e=>n[e]&&!1===n[e].isEventFired),o=r.map(e=>n[e].id);return r.length>=this.props.trackingChunk&&(this.fireViewAdsEvents(r,o),r.forEach(e=>{n[e].isEventFired=!0})),{viewItems:n}})}),this.state={viewItems:{}}}render(){const{recommendations:e,newADPV:t,recommendationMetaData:a}=this.props,i=t?w.a.borderNone:"",s={feed_version:a.feed_version};return e&&!!e.length&&r.a.createElement("section",{className:T()(w.a.relatedAds,i)},r.a.createElement(E.a,{contentClassName:w.a.cardContent},r.a.createElement("div",{className:w.a.title},r.a.createElement("h3",null,r.a.createElement(m.FormattedMessage,{id:"itemRelatedAds"}))),r.a.createElement(j,null,this.props.recommendations.map((e,t)=>r.a.createElement(_.a,{key:e.id,item:e,chosenOption:t,friendsInCommon:!1,type:"public",visualizationType:"grid",showStatistics:!1,className:w.a.itemCard,listingType:"items",source:p.u.RELATED,onView:this.onItemView,enabledRealImpressions:!0,extraTrackAttr:s})))))}}s()(S,"defaultProps",{recommendationMetaData:{},trackingChunk:20,loggedUser:{},origin:""});t.default=Object(c.compose)(b.a,Object(o.connect)((e,t)=>({recommendations:Object(h.C)(e,t),category:Object(f.f)(e,t.item.category_id),recommendationMetaData:Object(h.B)(e,t),origin:e.track.origin}),e=>({getRecommendations:(t,a,i)=>e(Object(g.e)(t,a,i))})))(S)},3455:function(e,t,a){e.exports={relatedAdsContent:"_1QqP1"}},3457:function(e,t,a){e.exports={"rui-3zju8":"rui-3zju8","rui-22wfj":"rui-22wfj","rui-Um_Lt":"rui-Um_Lt","rui-1SuTa":"rui-1SuTa","rui-3GaWd":"rui-3GaWd","rui-tSfG4":"rui-tSfG4","rui-39A3o":"rui-39A3o","rui-182sq":"rui-182sq"}},3459:function(e,t,a){e.exports={olxAutosTag:"kpASx",cardCarousel:"_31xDt",link:"_3Z6zr"}},3461:function(e,t,a){e.exports={relatedAds:"sNm19",title:"_20i0X"}},3478:function(e,t,a){e.exports={relatedAds:"_25vQF",cardContent:"_2C1ZX",title:"MgCi4",itemCard:"_21Q4B",arrowClass:"_1CYb_",borderNone:"_2KH4b"}},3524:function(e,t,a){"use strict";a.r(t),a.d(t,"RelatedAdsMX",(function(){return B}));a(6);var i=a(0),s=a.n(i),n=a(47),r=a(58),o=a.n(r),c=a(23),l=a(14),d=a(42),m=a(988),u=a(73),p=a(107),g=a(341),h=(a(1220),a(206),a(205),a(1221),a(1209)),f=a(882),_=a(3455),v=a.n(_);const b=e=>{let{children:t,direction:a}=e;return s.a.createElement(h.a,{arrow:"expanded",direction:a,className:v.a.relatedAdsContent,smoothScroll:!0},t)};b.defaultProps={direction:"ltr"};var E=Object(f.b)(b),O=(a(15),a(3457),a(95)),w=a(1609),I=a(872),C=a(209),y=a(1181),j=a(10),k=a(265),T=a(3),L=a(156),F=a(38),S=a(60);var A=e=>{let{item:t,financeConfig:a,currentLocale:n,onView:r,tagsCssClassName:o,isMobile:c,intlFormatMessage:l}=e;const{price:{value:{display:d="",raw:m=0,currency:u}={}}={}}=t,p=Object(i.useMemo)(()=>{const{images:e}=t,{url:a}=e&&e.length?e[0]:{};return{src:a,alt:d}},[d,t]),g=Object(i.useMemo)(()=>t&&t.user_type===L.c.COCO?[s.a.createElement(C.a,{fileName:c?F.a.OLXAUTOS_BLUE_SMALL_LOGO:F.a.OLXAUTOS_BLUE_LOGO,types:S.j,addSVG:!0,supportForDifferentSize:!0,className:o})]:[],[c,t,o]),h=Object(i.useMemo)(()=>t?Object(T.e)(t.id,t.title):"#",[t]),f=Object(i.useMemo)(()=>{const e=Object(y.a)(a,m),t=u?{pre:u.pre,post:u.post}:{},i={amt:Object(k.b)(e,t,n)};return l({id:"emiFullText"},i)},[n,a,l,u,m]),_=Object(i.useCallback)(e=>{if(e){const{id:e,title:a,user_id:i,monetizationInfo:s,spell:n,inspection_info:o}=t,c=!!(s&&!Object(j.c)(s.currentProduct)||t.package&&(t.package.id||t.package.name)),{id:l=0}=n||{},d=!(!o||!o.inspection_id);r({id:e,title:a,user_id:i,isFeatured:c,spell_id:l,isInspected:d})}},[t,r]);return[h,d,p,f,_,g]},N=a(3459),x=a.n(N);const M=e=>{let{item:t={},onView:a,financeConfig:i,currentLocale:n,intl:{formatMessage:r}}=e;const[o,c,l,d,m,u]=A({item:t,onView:a,financeConfig:i,currentLocale:n,tagsCssClassName:x.a.olxAutosTag,intlFormatMessage:r});return t?s.a.createElement(I.a,{onChange:m,className:x.a.cardCarousel},s.a.createElement(O.b,{to:o,className:x.a.link},s.a.createElement(w.a,{title:c,subtitle:d,body:t.title,image:l,tags:u}))):null};M.defaultProps={onView:()=>{},currentLocale:""};var R=s.a.memo(Object(c.injectIntl)(M)),P=a(29),z=a(3461),D=a.n(z);const{CAROUSEL_LISTING_RESULTS:V,CAROUSEL_VIEW_LISTING:U}=l.T,B=e=>{let{className:t,loggedUser:a,item:n,recommendations:r,onTrack:m,getRecommendations:u,recommendationMetaData:p,origin:h,trackingChunk:f,category:_,financeConfig:v,currentLocale:b}=e;const O=Object(i.useRef)({}),w=Object(i.useCallback)((function(e,t){void 0===t&&(t={});const{feed_version:a="-",applied_filters:i=[]}=p,s={item_id:n.id,category_level2_id:_.id,category_level1_id:_.parent_id,resultset_type:l.f,feed_version:a,origin:h,filters:i};m(e,Object.assign({},s,t))}),[_.id,_.parent_id,n.id,m,h,p]),I=Object(i.useCallback)((e,t)=>{const a={impressions:e,result_count:e.length,origin:g.a.ITEM_PAGE};w(U,a),w(l.lb,Object.assign({},a,{impressions:t,resultset_type:d.z.RELATED}))},[w]),C=Object(i.useCallback)(e=>{const{id:t,isFeatured:a,spell_id:i=0}=e,s=O.current;t in O.current||(O.current[t]={id:(a?"T":"O")+i+":"+t,isEventFired:!1});const n=Object.keys(s).filter(e=>s[e]&&!1===s[e].isEventFired),r=n.map(e=>s[e].id);n.length>=f&&(I(n,r),n.forEach(e=>{s[e].isEventFired=!0}))},[I,f]);return Object(i.useEffect)(()=>{if(r&&r.length){const e=r.map(e=>{const{id:t,scoreFactor:a="null"}=e;return{adId:t,scoreFactor:a}});w(V,{result_count:r.length}),w(l.B,{impressions:e,resultset_type:d.z.RELATED,result_count:e.length})}return()=>{const e=O.current,t=Object.keys(e).filter(t=>e[t]&&!1===e[t].isEventFired),a=t.map(t=>e[t].id);t.length>0&&I(t,a)}},[I,r,w]),Object(i.useEffect)(()=>{const e=a&&a.id||"",{id:t="",category_id:i=""}=n||{};u(e,t,i)},[n,a,u]),r&&r.length?s.a.createElement("section",{className:o()(D.a.relatedAds,t)},s.a.createElement("div",{className:D.a.title},s.a.createElement(c.FormattedMessage,{id:"itemRelatedAds"})),s.a.createElement(E,null,r.map(e=>s.a.createElement(R,{key:"card-carousal-"+e.id,item:e,onView:C,financeConfig:v,currentLocale:b})))):null};B.defaultProps={className:"",recommendationMetaData:{},trackingChunk:20,loggedUser:{},origin:"",financeConfig:{},currentLocale:""};const H={getRecommendations:m.e};t.default=Object(n.connect)((e,t)=>({recommendations:Object(u.C)(e,t),category:Object(p.f)(e,t.item.category_id),recommendationMetaData:Object(u.B)(e,t),financeConfig:e.financeConfig||{},origin:e.track.origin,currentLocale:Object(P.getLocale)(e)}),H)(B)}}]);
//# sourceMappingURL=desktop-related-ads.olx.1821104b23556eeea12f.js.map